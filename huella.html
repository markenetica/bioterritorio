<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Huella de Carbono Personal | Bioterritorio</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .calculator-container {
            background: #ffffff;
            border-radius: 25px;
            box-shadow: 0 25px 80px rgba(0,0,0,0.3);
            overflow: hidden;
            border: 5px solid #ffc107;
            margin-bottom: 2rem;
        }

        .calculator-header {
            background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
            color: #1a237e;
            padding: 2.5rem;
            text-align: center;
        }

        .calculator-header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.8rem;
            font-weight: 900;
        }

        .calculator-header p {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .calculator-body {
            padding: 2.5rem;
            background: #ffffff;
        }

        .form-section {
            margin-bottom: 2.5rem;
        }

        .section-title {
            color: #1a237e;
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 4px solid #ffc107;
            padding-bottom: 0.8rem;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.8rem;
            color: #1a237e;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .input-container {
            position: relative;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 1.3rem;
            border: 3px solid #ffc107;
            border-radius: 15px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            background: #ffffff;
            color: #1a237e;
            font-weight: 600;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ff9800;
            box-shadow: 0 0 0 5px rgba(255, 193, 7, 0.3);
            transform: translateY(-2px);
        }

        .unit {
            position: absolute;
            right: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: #1a237e;
            font-size: 1rem;
            font-weight: 700;
            background: #fff8e1;
            padding: 4px 8px;
            border-radius: 6px;
        }

        .help-text {
            color: #666;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: block;
        }

        .calculate-btn {
            background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
            color: #1a237e;
            padding: 1.8rem 4rem;
            border: none;
            border-radius: 60px;
            font-size: 1.5rem;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.4s ease;
            width: 100%;
            margin: 3rem 0;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 10px 30px rgba(255, 193, 7, 0.5);
        }

        .calculate-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(255, 193, 7, 0.7);
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
        }

        /* ESTILOS DE RESULTADOS */
        .results-container {
            background: white;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 25px 80px rgba(0,0,0,0.3);
            border: 5px solid #ffc107;
            display: none;
        }

        .results-header {
            background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
            color: #1a237e;
            padding: 3rem;
            text-align: center;
        }

        .main-result {
            font-size: 6rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        .result-unit {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .result-description {
            font-size: 1.3rem;
            font-weight: 600;
        }

        .results-body {
            padding: 3rem;
        }

        .evaluation-section {
            padding: 2.5rem;
            border-radius: 20px;
            margin-bottom: 3rem;
            text-align: center;
            color: white;
        }

        .eval-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .eval-title {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 1rem;
        }

        .eval-description {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .eval-recommendation {
            font-size: 1.1rem;
            background: rgba(255,255,255,0.2);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 5px solid #ffc107;
        }

        .section-title-results {
            color: #1a237e;
            font-size: 2rem;
            font-weight: 900;
            margin-bottom: 2rem;
            text-align: center;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .impact-card {
            background: #f8f9fa;
            padding: 2.5rem;
            border-radius: 20px;
            text-align: center;
            border-left: 6px solid #ffc107;
            transition: all 0.3s ease;
        }

        .impact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .impact-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
        }

        .impact-title {
            color: #1a237e;
            font-size: 1.3rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .impact-value {
            font-size: 2.2rem;
            font-weight: 900;
            color: #ff9800;
            margin-bottom: 0.5rem;
        }

        .impact-description {
            color: #666;
            font-size: 1rem;
            line-height: 1.5;
        }

        .breakdown-section {
            background: #f8f9fa;
            padding: 3rem;
            border-radius: 20px;
            margin: 3rem 0;
            border-left: 8px solid #ffc107;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem 0;
            border-bottom: 2px solid #e0e0e0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .breakdown-item:last-child {
            border-bottom: none;
            background: rgba(255, 193, 7, 0.2);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
            font-size: 1.3rem;
            font-weight: 800;
            color: #1a237e;
        }

        .comparison-section {
            background: linear-gradient(135deg, #1a237e 0%, #0d47a1 100%);
            color: white;
            padding: 3rem;
            border-radius: 20px;
            margin: 3rem 0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .comparison-item {
            background: rgba(255, 193, 7, 0.2);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #ffc107;
        }

        .comparison-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .comparison-text {
            font-size: 1.1rem;
            font-weight: 700;
        }

        .action-section {
            background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
            color: white;
            padding: 3rem;
            border-radius: 20px;
            text-align: center;
            margin: 3rem 0;
        }

        .action-title {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 1.5rem;
        }

        .action-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
            text-align: left;
        }

        .action-item {
            background: rgba(255,255,255,0.1);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 5px solid #ffc107;
        }

        .action-item h4 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #ffc107;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 3rem;
        }

        .action-btn {
            padding: 1.5rem 2rem;
            border: none;
            border-radius: 15px;
            font-weight: 800;
            font-size: 1.1rem;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .primary-btn {
            background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
            color: #1a237e;
        }

        .secondary-btn {
            background: transparent;
            color: #ffc107;
            border: 3px solid #ffc107;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 193, 7, 0.4);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @media (max-width: 768px) {
            .calculator-header h1 {
                font-size: 2.2rem;
            }
            
            .main-result {
                font-size: 4rem;
            }
            
            .impact-grid, .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }

            .calculator-body, .results-body {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- CALCULADORA -->
        <div class="calculator-container" id="calculator">
            <div class="calculator-header">
                <h1>üåç Mi Huella de Carbono</h1>
                <p>Descubre tu impacto personal en el planeta</p>
            </div>

            <div class="calculator-body">
                <form id="carbon-form">
                    <!-- Hogar -->
                    <div class="form-section">
                        <h2 class="section-title">üè† Mi Hogar</h2>
                        
                        <div class="form-group">
                            <label for="electricity-kwh">üí° Consumo mensual de electricidad (kWh):</label>
                            <div class="input-container">
                                <input type="number" id="electricity-kwh" placeholder="250" min="0" required>
                                <span class="unit">kWh</span>
                            </div>
                            <small class="help-text">
                                üìã <strong>¬øC√≥mo encontrarlo?</strong> En tu factura de luz busca "Consumo" o "kWh facturados". Ejemplo: si dice "250 kWh", escribes 250.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="gas-cylinders">üî• ¬øCu√°ntos cilindros de gas usas al mes?</label>
                            <select id="gas-cylinders">
                                <option value="0">No uso gas</option>
                                <option value="0.5">Medio cilindro</option>
                                <option value="1">1 cilindro</option>
                                <option value="1.5">1.5 cilindros</option>
                                <option value="2">2 cilindros</option>
                                <option value="3">3 o m√°s cilindros</option>
                            </select>
                            <small class="help-text">
                                üí° <strong>¬øC√≥mo saberlo?</strong> Cuenta cu√°ntos cilindros de gas (pipetas) compras al mes. Un cilindro t√≠pico dura 15-30 d√≠as seg√∫n el uso.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="household-size">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ¬øCu√°ntas personas viven en tu casa?</label>
                            <select id="household-size" required>
                                <option value="">Selecciona...</option>
                                <option value="1">Solo yo</option>
                                <option value="2">2 personas</option>
                                <option value="3">3 personas</option>
                                <option value="4">4 personas</option>
                                <option value="5">5 personas</option>
                                <option value="6">6 o m√°s personas</option>
                            </select>
                            <small class="help-text">
                                üè† <strong>¬øPor qu√© importa?</strong> Dividimos el consumo de energ√≠a entre todas las personas que viven en la casa para calcular tu parte.
                            </small>
                        </div>
                    </div>

                    <!-- Transporte -->
                    <div class="form-section">
                        <h2 class="section-title">üöó Mi Transporte</h2>
                        
                        <div class="form-group">
                            <label for="vehicle">üöô ¬øQu√© veh√≠culo usas principalmente?</label>
                            <select id="vehicle" required>
                                <option value="">Selecciona...</option>
                                <option value="none">No tengo veh√≠culo</option>
                                <option value="bike">Bicicleta/Camino</option>
                                <option value="motorcycle">Motocicleta</option>
                                <option value="small-car">Carro peque√±o</option>
                                <option value="large-car">Carro grande/SUV</option>
                                <option value="public">Solo transporte p√∫blico</option>
                            </select>
                            <small class="help-text">
                                üöó <strong>¬øCu√°l elegir?</strong> Escoge el veh√≠culo que m√°s usas para movilizarte d√≠a a d√≠a (trabajo, estudio, compras, etc.).
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="km-week">üìè ¬øCu√°ntos kil√≥metros manejas por semana?</label>
                            <div class="input-container">
                                <input type="number" id="km-week" placeholder="200" min="0">
                                <span class="unit">km</span>
                            </div>
                            <small class="help-text">
                                üìä <strong>¬øC√≥mo calcularlo?</strong> Piensa en tus recorridos diarios: casa-trabajo, compras, etc. Ejemplo: si haces 40 km diarios x 5 d√≠as = 200 km/semana.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="flights">‚úàÔ∏è ¬øCu√°ntos vuelos tomas al a√±o?</label>
                            <select id="flights">
                                <option value="0">Ninguno</option>
                                <option value="1">1 vuelo</option>
                                <option value="2">2 vuelos</option>
                                <option value="4">3-4 vuelos</option>
                                <option value="8">5-8 vuelos</option>
                                <option value="12">M√°s de 8 vuelos</option>
                            </select>
                            <small class="help-text">
                                ‚úàÔ∏è <strong>Incluye todos:</strong> Vacaciones, trabajo, familia. Un viaje redondo (ida y vuelta) cuenta como 2 vuelos.
                            </small>
                        </div>
                    </div>

                    <!-- Alimentaci√≥n -->
                    <div class="form-section">
                        <h2 class="section-title">üçΩÔ∏è Mi Alimentaci√≥n</h2>
                        
                        <div class="form-group">
                            <label for="diet">ü•© ¬øC√≥mo describes tu dieta?</label>
                            <select id="diet" required>
                                <option value="">Selecciona...</option>
                                <option value="vegan">Vegana (sin productos animales)</option>
                                <option value="vegetarian">Vegetariana (sin carne)</option>
                                <option value="low-meat">Poca carne (1-2 veces/semana)</option>
                                <option value="moderate-meat">Carne regular (3-5 veces/semana)</option>
                                <option value="high-meat">Mucha carne (todos los d√≠as)</option>
                            </select>
                            <small class="help-text">
                                üçñ <strong>¬øQu√© contar?</strong> Incluye res, cerdo, pollo, pescado. Piensa en una semana t√≠pica: ¬øcu√°ntas comidas tienen carne?
                            </small>
                        </div>
                    </div>

                    <!-- Consumo -->
                    <div class="form-section">
                        <h2 class="section-title">üõí Mi Consumo</h2>
                        
                        <div class="form-group">
                            <label for="shopping">üõçÔ∏è ¬øCon qu√© frecuencia compras ropa nueva, electr√≥nicos, etc.?</label>
                            <select id="shopping" required>
                                <option value="">Selecciona...</option>
                                <option value="minimal">Muy poco (solo lo necesario)</option>
                                <option value="occasional">Ocasional (algunas veces al a√±o)</option>
                                <option value="regular">Regular (cada mes)</option>
                                <option value="frequent">Frecuente (varias veces al mes)</option>
                            </select>
                            <small class="help-text">
                                üõí <strong>¬øQu√© incluir?</strong> Ropa, zapatos, electr√≥nicos, muebles, decoraci√≥n. No incluyas comida o productos de aseo b√°sicos.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="recycling">‚ôªÔ∏è ¬øReciclas y cuidas el medio ambiente?</label>
                            <select id="recycling">
                                <option value="excellent">S√≠, reciclo todo y soy muy consciente</option>
                                <option value="good">S√≠, reciclo la mayor√≠a de cosas</option>
                                <option value="moderate">A veces reciclo</option>
                                <option value="poor">Rara vez reciclo</option>
                                <option value="none">No reciclo</option>
                            </select>
                            <small class="help-text">
                                ‚ôªÔ∏è <strong>¬øQu√© evaluar?</strong> Separas pl√°stico, papel, vidrio? ¬øReduces el desperdicio de comida? ¬øReutilizas cosas? ¬øEvitas productos desechables?
                            </small>
                        </div>
                    </div>

                    <button type="submit" class="calculate-btn">
                        üå± Calcular Mi Huella Personal
                    </button>
                </form>
            </div>
        </div>

        <!-- RESULTADOS -->
        <div class="results-container" id="results">
            <div class="results-header">
                <div class="main-result" id="total-emissions">0</div>
                <div class="result-unit">toneladas CO‚ÇÇ al a√±o</div>
                <div class="result-description">Tu huella de carbono personal</div>
            </div>

            <div class="results-body">
                <!-- Evaluaci√≥n -->
                <div class="evaluation-section" id="evaluation">
                    <!-- Se llena din√°micamente -->
                </div>

                <!-- Impacto Visual -->
                <h2 class="section-title-results" id="impact-title">üåç ¬øQu√© significa tu huella?</h2>
                <div class="impact-grid" id="impact-grid">
                    <!-- Se llena din√°micamente -->
                </div>

                <!-- Desglose -->
                <div class="breakdown-section">
                    <h3 class="section-title-results">üìä ¬øDe d√≥nde vienen tus emisiones?</h3>
                    <div id="breakdown-content">
                        <!-- Se llena din√°micamente -->
                    </div>
                </div>

                <!-- Comparaciones -->
                <div class="comparison-section">
                    <h3 class="section-title-results">üìà ¬øC√≥mo te comparas?</h3>
                    <div class="comparison-grid" id="comparison-grid">
                        <!-- Se llena din√°micamente -->
                    </div>
                </div>

                <!-- Plan de Acci√≥n -->
                <div class="action-section">
                    <div class="action-title">üéØ Tu Plan de Reducci√≥n Personalizado</div>
                    <p id="reduction-goal" style="font-size: 1.2rem; margin-bottom: 2rem;">
                        <!-- Se llena din√°micamente -->
                    </p>
                    
                    <div class="action-list" id="action-list">
                        <!-- Se llena din√°micamente -->
                    </div>

                    <div class="action-buttons">
                        <a href="#" id="email-btn" class="action-btn primary-btn">
                            üìß Quiero Asesor√≠a Personalizada
                        </a>
                        <a href="#" id="whatsapp-btn" class="action-btn secondary-btn">
                            üí¨ WhatsApp Directo
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('carbon-form').addEventListener('submit', function(e) {
            e.preventDefault();
            calculatePersonalCarbon();
        });

        function calculatePersonalCarbon() {
            // Obtener valores del formulario
            const electricityKwh = parseFloat(document.getElementById('electricity-kwh').value) || 0;
            const gasCylinders = parseFloat(document.getElementById('gas-cylinders').value) || 0;
            const householdSize = parseInt(document.getElementById('household-size').value) || 1;
            const vehicle = document.getElementById('vehicle').value;
            const kmWeek = parseFloat(document.getElementById('km-week').value) || 0;
            const flights = parseInt(document.getElementById('flights').value) || 0;
            const diet = document.getElementById('diet').value;
            const shopping = document.getElementById('shopping').value;
            const recycling = document.getElementById('recycling').value;

            // C√ÅLCULOS DE HUELLA DE CARBONO PERSONAL

            // 1. ENERG√çA DEL HOGAR (dividida por personas)
            const electricityEmissions = (electricityKwh * 12 * 0.164) / 1000 / householdSize;

            // 2. GAS DOM√âSTICO
            const gasEmissions = (gasCylinders * 12 * 0.056) / householdSize;

            // 3. TRANSPORTE
            const vehicleFactors = {
                'none': 0,
                'bike': 0,
                'motorcycle': 0.065,
                'small-car': 0.120,
                'large-car': 0.200,
                'public': 0.045
            };
            
            const vehicleFactor = vehicleFactors[vehicle] || 0;
            const transportEmissions = (kmWeek * 52 * vehicleFactor) / 1000;

            // 4. VUELOS
            const flightEmissions = flights * 0.8;

            // 5. ALIMENTACI√ìN
            const dietFactors = {
                'vegan': 1.2,
                'vegetarian': 1.6,
                'low-meat': 2.3,
                'moderate-meat': 3.1,
                'high-meat': 4.2
            };
            const dietEmissions = dietFactors[diet] || 3.1;

            // 6. CONSUMO
            const shoppingFactors = {
                'minimal': 0.4,
                'occasional': 0.9,
                'regular': 1.6,
                'frequent': 2.8
            };
            const shoppingEmissions = shoppingFactors[shopping] || 1.6;

            // 7. GESTI√ìN DE RESIDUOS
            const recyclingFactors = {
                'excellent': 0.15,
                'good': 0.35,
                'moderate': 0.55,
                'poor': 0.85,
                'none': 1.1
            };
            const wasteEmissions = recyclingFactors[recycling] || 0.55;

            // TOTAL DE EMISIONES
            let totalEmissions = electricityEmissions + gasEmissions + transportEmissions + 
                               flightEmissions + dietEmissions + shoppingEmissions + wasteEmissions;

            // M√≠nimo base para una persona en Colombia
            totalEmissions = Math.max(totalEmissions, 1.8);

            // Redondear a 1 decimal
            totalEmissions = Math.round(totalEmissions * 10) / 10;

            // Mostrar resultados completos
            displayCompleteResults(totalEmissions, {
                electricity: electricityEmissions,
                gas: gasEmissions,
                transport: transportEmissions,
                flights: flightEmissions,
                diet: dietEmissions,
                shopping: shoppingEmissions,
                waste: wasteEmissions
            });
        }

        function displayCompleteResults(total, breakdown) {
            // Mostrar n√∫mero principal
            document.getElementById('total-emissions').textContent = total.toFixed(1);

            // EVALUACI√ìN PERSONALIZADA
            let evalBg, evalIcon, evalText, evalDesc, recommendation;
            
            if (total <= 3) {
                evalBg = "background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);";
                evalIcon = "üåü";
                evalText = "¬°EXCELENTE! Tu huella es muy baja";
                evalDesc = "Est√°s muy por debajo del promedio. Eres un ejemplo a seguir.";
                recommendation = "Mant√©n tus h√°bitos conscientes y ayuda a otros a reducir su huella. Considera compensar tus emisiones restantes plantando √°rboles.";
            } else if (total <= 5) {
                evalBg = "background: linear-gradient(135deg, #8bc34a 0%, #689f38 100%);";
                evalIcon = "üëç";
                evalText = "¬°BIEN! Est√°s por debajo del promedio";
                evalDesc = "Tu huella est√° en un buen rango, pero siempre hay espacio para mejorar.";
                recommendation = "Enf√≥cate en reducir vuelos y optimizar tu transporte. Considera d√≠as sin carne para bajar a√∫n m√°s tu impacto.";
            } else if (total <= 8) {
                evalBg = "background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);";
                evalIcon = "‚ö†Ô∏è";
                evalText = "PROMEDIO - Hay espacio para mejorar";
                evalDesc = "Tu huella est√° en el rango promedio, pero puedes reducirla significativamente.";
                recommendation = "Prioriza cambios en alimentaci√≥n (reduce carne 2-3 d√≠as/semana) y transporte. Estos dos factores pueden reducir tu huella en un 40%.";
            } else if (total <= 12) {
                evalBg = "background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);";
                evalIcon = "üî∏";
                evalText = "ALTA - Es momento de actuar";
                evalDesc = "Tu huella est√° significativamente por encima del promedio sostenible.";
                recommendation = "Necesitas cambios importantes: reduce vuelos, cambia a transporte p√∫blico/bicicleta, adopta dieta m√°s vegetariana y consume menos.";
            } else {
                evalBg = "background: linear-gradient(135deg, #d32f2f 0%, #b71c1c 100%);";
                evalIcon = "üö®";
                evalText = "MUY ALTA - Acci√≥n urgente";
                evalDesc = "Tu huella requiere cambios dr√°sticos inmediatos.";
                recommendation = "Necesitas transformar completamente tus h√°bitos: elimina vuelos no esenciales, cambia tu dieta, usa transporte sostenible y reduce consumo al m√≠nimo.";
            }

            document.getElementById('evaluation').innerHTML = `
                <div style="${evalBg}">
                    <div class="eval-icon">${evalIcon}</div>
                    <div class="eval-title">${evalText}</div>
                    <div class="eval-description">${evalDesc}</div>
                    <div class="eval-recommendation">
                        üí° <strong>Recomendaci√≥n principal:</strong> ${recommendation}
                    </div>
                </div>
            `;

            // IMPACTO VISUAL
            document.getElementById('impact-title').textContent = `üåç ¬øQu√© significan tus ${total.toFixed(1)} toneladas?`;
            
            const impactData = [
                {
                    icon: "üå≥",
                    title: "√Årboles necesarios",
                    value: Math.round(total * 16),
                    description: `Necesitas plantar ${Math.round(total * 16)} √°rboles y esperar 20 a√±os para que absorban todo el CO‚ÇÇ que produces en un a√±o`
                },
                {
                    icon: "üöó",
                    title: "Equivale a manejar",
                    value: `${Math.round(total * 4300).toLocaleString()} km`,
                    description: total > 6 ? 
                        `Es como manejar desde Bogot√° hasta Buenos Aires y de vuelta. O dar ${Math.round(total * 4300 / 1046)} vueltas completas a Colombia por carretera` :
                        `Es como manejar de Bogot√° a ${total > 4 ? 'Lima' : 'Caracas'} y de vuelta`
                },
                {
                    icon: "ü•©",
                    title: "Hamburguesas",
                    value: Math.round(total * 85),
                    description: `Tu huella equivale a comer ${Math.round(total * 85)} hamburguesas. Eso son ${Math.round(total * 85 / 365)} hamburguesas por d√≠a`
                },
                {
                    icon: "üè†",
                    title: "Hogares colombianos",
                    value: (total / 3.8).toFixed(1),
                    description: `Tu huella equivale a ${(total / 3.8).toFixed(1)} hogares promedio. Est√°s consumiendo como ${total > 7.6 ? 'dos familias' : total > 3.8 ? 'una familia y media' : 'una familia normal'}`
                },
                {
                    icon: "‚õΩ",
                    title: "Gasolina",
                    value: `${Math.round(total * 433)} litros`,
                    description: `Como quemar ${Math.round(total * 433)} litros de gasolina. Suficiente para llenar el tanque de tu carro ${Math.round(total * 433 / 40)} veces`
                },
                {
                    icon: "‚ùÑÔ∏è",
                    title: "Hielo derretido",
                    value: `${Math.round(total * 3)} m¬≤`,
                    description: `Tu huella derrite ${Math.round(total * 3)} metros cuadrados de hielo √°rtico. ${total > 10 ? 'Como derretir media cancha de f√∫tbol' : 'Como derretir una habitaci√≥n grande'}`
                }
            ];

            document.getElementById('impact-grid').innerHTML = impactData.map(item => `
                <div class="impact-card">
                    <div class="impact-icon">${item.icon}</div>
                    <div class="impact-title">${item.title}</div>
                    <div class="impact-value">${item.value}</div>
                    <div class="impact-description">${item.description}</div>
                </div>
            `).join('');

            // DESGLOSE
            const percentages = {
                electricity: (breakdown.electricity / total * 100).toFixed(0),
                gas: (breakdown.gas / total * 100).toFixed(0),
                transport: (breakdown.transport / total * 100).toFixed(0),
                flights: (breakdown.flights / total * 100).toFixed(0),
                diet: (breakdown.diet / total * 100).toFixed(0),
                shopping: (breakdown.shopping / total * 100).toFixed(0),
                waste: (breakdown.waste / total * 100).toFixed(0)
            };

            document.getElementById('breakdown-content').innerHTML = `
                <div class="breakdown-item">
                    <span>‚ö° Electricidad</span>
                    <span>${breakdown.electricity.toFixed(1)} tCO‚ÇÇ (${percentages.electricity}%)</span>
                </div>
                <div class="breakdown-item">
                    <span>üî• Gas dom√©stico</span>
                    <span>${breakdown.gas.toFixed(1)} tCO‚ÇÇ (${percentages.gas}%)</span>
                </div>
                <div class="breakdown-item">
                    <span>üöó Transporte terrestre</span>
                    <span>${breakdown.transport.toFixed(1)} tCO‚ÇÇ (${percentages.transport}%)</span>
                </div>
                <div class="breakdown-item">
                    <span>‚úàÔ∏è Vuelos</span>
                    <span>${breakdown.flights.toFixed(1)} tCO‚ÇÇ (${percentages.flights}%)</span>
                </div>
                <div class="breakdown-item">
                    <span>üçΩÔ∏è Alimentaci√≥n</span>
                    <span>${breakdown.diet.toFixed(1)} tCO‚ÇÇ (${percentages.diet}%)</span>
                </div>
                <div class="breakdown-item">
                    <span>üõí Consumo</span>
                    <span>${breakdown.shopping.toFixed(1)} tCO‚ÇÇ (${percentages.shopping}%)</span>
                </div>
                <div class="breakdown-item">
                    <span>üóëÔ∏è Residuos</span>
                    <span>${breakdown.waste.toFixed(1)} tCO‚ÇÇ (${percentages.waste}%)</span>
                </div>
                <div class="breakdown-item">
                    <span><strong>üåç TU HUELLA TOTAL</strong></span>
                    <span><strong>${total.toFixed(1)} tCO‚ÇÇ/a√±o</strong></span>
                </div>
            `;

            // COMPARACIONES
            const colombianAvg = 3.8;
            const worldTarget = 2.3;
            const usAvg = 16;
            const greenLifestyle = 2.5;

            const comparisons = [
                {
                    icon: "üá®üá¥",
                    title: "Promedio colombiano:",
                    value: `${colombianAvg} tCO‚ÇÇ/a√±o`,
                    comparison: total > colombianAvg ? 
                        `Est√°s ${Math.round((total/colombianAvg - 1) * 100)}% por encima` :
                        `Est√°s ${Math.round((1 - total/colombianAvg) * 100)}% por debajo`,
                    color: total > colombianAvg ? "#ff9800" : "#4caf50"
                },
                {
                    icon: "üåç",
                    title: "Meta mundial 2030:",
                    value: `${worldTarget} tCO‚ÇÇ/a√±o`,
                    comparison: total > worldTarget ? 
                        `Est√°s ${Math.round((total/worldTarget - 1) * 100)}% por encima` :
                        `¬°Cumples la meta!`,
                    color: total > worldTarget ? "#f44336" : "#4caf50"
                },
                {
                    icon: "üá∫üá∏",
                    title: "Promedio estadounidense:",
                    value: `${usAvg} tCO‚ÇÇ/a√±o`,
                    comparison: total < usAvg ? 
                        `Est√°s ${Math.round((1 - total/usAvg) * 100)}% por debajo` :
                        `Est√°s ${Math.round((total/usAvg - 1) * 100)}% por encima`,
                    color: total < usAvg ? "#4caf50" : "#f44336"
                },
                {
                    icon: "üå±",
                    title: "Estilo de vida verde:",
                    value: `${greenLifestyle} tCO‚ÇÇ/a√±o`,
                    comparison: total > greenLifestyle ? 
                        `Puedes reducir ${Math.round((1 - greenLifestyle/total) * 100)}%` :
                        `¬°Eres s√∫per verde!`,
                    color: total > greenLifestyle ? "#ff9800" : "#4caf50"
                }
            ];

            document.getElementById('comparison-grid').innerHTML = comparisons.map(comp => `
                <div class="comparison-item">
                    <div class="comparison-icon">${comp.icon}</div>
                    <div class="comparison-text">
                        <strong>${comp.title}</strong><br>
                        ${comp.value}<br>
                        <span style="color: ${comp.color};">${comp.comparison}</span>
                    </div>
                </div>
            `).join('');

            // PLAN DE ACCI√ìN PERSONALIZADO
            let targetReduction = Math.max(total * 0.3, total - 5); // Reducir 30% o llegar a 5 tCO2 m√°ximo
            let newTarget = total - targetReduction;
            newTarget = Math.max(newTarget, 2.5); // M√≠nimo realista 2.5
            targetReduction = total - newTarget;
            
            document.getElementById('reduction-goal').textContent = 
                `Con estos cambios puedes llegar a ${newTarget.toFixed(1)} tCO‚ÇÇ/a√±o (reducci√≥n del ${Math.round(targetReduction/total * 100)}%)`;

            // Acciones personalizadas basadas en el desglose
            let actions = [];
            
            if (breakdown.diet > 2.5) {
                actions.push({
                    icon: "ü•©",
                    title: "Reduce carne 2-3 d√≠as/semana",
                    description: `Ahorro: ${(breakdown.diet * 0.3).toFixed(1)} tCO‚ÇÇ/a√±o. Prueba ${total > 8 ? 'lunes, mi√©rcoles y viernes' : 'lunes y mi√©rcoles'} sin carne. Descubre nuevas recetas vegetarianas deliciosas.`
                });
            }

            if (breakdown.transport > 1.5) {
                actions.push({
                    icon: "üöó",
                    title: "Optimiza tu transporte",
                    description: `Ahorro: ${(breakdown.transport * 0.4).toFixed(1)} tCO‚ÇÇ/a√±o. Combina carro con transporte p√∫blico, bicicleta o camina. Reduce ${Math.round(breakdown.transport > 3 ? 50 : 30)}% tu kilometraje.`
                });
            }

            if (breakdown.flights > 1.5) {
                actions.push({
                    icon: "‚úàÔ∏è",
                    title: `Reduce vuelos ${breakdown.flights > 4 ? 'significativamente' : 'moderadamente'}`,
                    description: `Ahorro: ${(breakdown.flights * 0.5).toFixed(1)} tCO‚ÇÇ/a√±o. ${breakdown.flights > 6 ? 'Elimina vuelos no esenciales y' : ''} Considera destinos nacionales o viajes terrestres.`
                });
            }

            if (breakdown.shopping > 1.2) {
                actions.push({
                    icon: "üõí",
                    title: "Consume de forma m√°s consciente",
                    description: `Ahorro: ${(breakdown.shopping * 0.4).toFixed(1)} tCO‚ÇÇ/a√±o. Preg√∫ntate antes de comprar: ¬ørealmente lo necesito? Prioriza calidad sobre cantidad.`
                });
            }

            if (breakdown.waste > 0.5) {
                actions.push({
                    icon: "‚ôªÔ∏è",
                    title: "Mejora tu gesti√≥n de residuos",
                    description: `Ahorro: ${(breakdown.waste * 0.5).toFixed(1)} tCO‚ÇÇ/a√±o. Separa mejor, compostera org√°nicos, reduce desperdicios. Cada acci√≥n cuenta.`
                });
            }

            if (breakdown.electricity > 0.6) {
                actions.push({
                    icon: "‚ö°",
                    title: "Aumenta eficiencia energ√©tica",
                    description: `Ahorro: ${(breakdown.electricity * 0.3).toFixed(1)} tCO‚ÇÇ/a√±o. Cambia a LED, desconecta equipos, optimiza aire acondicionado. Peque√±os cambios, gran impacto.`
                });
            }

            // Si no hay muchas acciones espec√≠ficas, agregar generales
            if (actions.length < 4) {
                actions.push({
                    icon: "üå±",
                    title: "Compensa tus emisiones",
                    description: `Planta ${Math.round(total * 16)} √°rboles o apoya proyectos de compensaci√≥n certificados. Neutraliza tu impacto restante.`
                });
            }

            document.getElementById('action-list').innerHTML = actions.slice(0, 6).map(action => `
                <div class="action-item">
                    <h4>${action.icon} ${action.title}</h4>
                    <p>${action.description}</p>
                </div>
            `).join('');

            // MOSTRAR RESULTADOS
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // Validaci√≥n en tiempo real
        document.querySelectorAll('input[type="number"]').forEach(input => {
            input.addEventListener('input', function() {
                if (this.value < 0) this.value = 0;
            });
        });
    </script>
</body>
</html>